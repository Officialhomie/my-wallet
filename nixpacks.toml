# Nixpacks Configuration for TVRCH Backend
# This configuration operates from core/ subdirectory

[phases.setup]
nixPkgs = ["nodejs_18"]

[phases.install]
# Install production dependencies from core subdirectory
cmds = ["cd core && npm ci --omit=dev"]

[phases.build]
# Skip build phase to prevent duplicate npm ci
cmds = []

[start]
cmd = "cd core && npm run server"
